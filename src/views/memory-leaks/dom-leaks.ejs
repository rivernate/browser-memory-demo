<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM Leaks Memory Leak</title>
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        .container {
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .visual {
            width: 300px;
            height: 300px;
            background-color: #e2e2e2;
            margin: 20px 0;
            position: relative;
            overflow: auto;
        }
        .block {
            width: 20px;
            height: 20px;
            background-color: #007bff;
            position: absolute;
        }
        .description {
            text-align: left;
            max-width: 600px;
        }
        pre {
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
            overflow: auto;
            max-width: 600px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DOM Leaks Memory Leak</h1>
        <div class="description">
            <p><strong>Explanation:</strong> A DOM leak occurs when references to DOM elements are retained even after those elements have been removed from the document. This can prevent garbage collection and lead to increased memory usage.</p>
            <p><strong>Visualization:</strong> The blue blocks represent memory being allocated by DOM elements. Each time an element is removed from the DOM, it is still referenced in JavaScript, simulating a leak.</p>
            <p><strong>Example Code:</strong></p>
            <pre>
function removeElements() {
    const elements = [];
    for (let i = 0; i < 1000; i++) {
        const div = document.createElement('div');
        div.className = 'leak';
        document.body.appendChild(div);
        elements.push(div); // Keeping a reference to the DOM element
        document.body.removeChild(div); // Removing it from the DOM
    }
}
            </pre>
        </div>
        <button id="start-button">Start Leak</button>
        <div id="output"></div>
        <div class="visual" id="visual"></div>
    </div>
    <script src="/js/dom-leaks.js"></script>
</body>
</html>

